<!DOCTYPE html>
<html lang="mn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–•–∞–π—Ä–¥–∞–∞ Valentine‚Äôs Day üíñ</title>
<style>
body {
  margin:0;
  font-family:Arial, sans-serif;
  overflow:hidden;
  height:100vh;
  background: linear-gradient(135deg,#ff9a9e 0%,#fad0c4 100%);
  animation:bgAnim 20s ease infinite alternate;
  color:#fff;
}
@keyframes bgAnim {
  0%{background:linear-gradient(135deg,#ff9a9e 0%,#fad0c4 100%);}
  50%{background:linear-gradient(135deg,#fbc2eb 0%,#a6c1ee 100%);}
  100%{background:linear-gradient(135deg,#ff9a9e 0%,#fad0c4 100%);}
}
.page {position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;transition:opacity 0.5s;z-index:0;}
.page.active {z-index:1;}
.hidden {opacity:0;pointer-events:none;}
h1 {font-size:2.5rem;margin:1rem;text-align:center;animation:pulse 1.5s infinite,bounce 2s ease-in-out infinite;}
@keyframes pulse{0%,100%{transform:scale(1);}50%{transform:scale(1.2);}}
@keyframes bounce{0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);}}
.heart,.sparkle{position:absolute;pointer-events:none;user-select:none;transition:transform 0.3s;}
.sparkle{font-size:1rem;opacity:0.8;animation:sparkleAnim 0.8s linear forwards;}
@keyframes sparkleAnim{0%{transform:scale(1);opacity:1;}100%{transform:scale(0);opacity:0;}}
.big-heart{font-size:80px;cursor:pointer;margin:1rem;transition:transform 0.5s;position:absolute;}
.big-heart:hover{transform:scale(1.3) rotate(20deg);}
.small-heart{font-size:55px;margin:0.5rem;cursor:pointer;transition:transform 0.3s, opacity 0.5s;position:absolute;}
.small-heart:hover{transform:scale(1.4) rotate(15deg);}
.option-btn{padding:1rem 2rem;margin:1rem;border-radius:50px;border:none;font-size:1.2rem;cursor:pointer;background:#ff6b81;color:white;transition:transform 0.3s, background 0.3s;position:absolute;}
.option-btn:hover{transform:scale(1.2); background:#ff4a6e;}
.romantic-text{position:absolute;font-size:18px;color:#fff;text-shadow:1px 1px 5px #ff6b81;animation:fadeIn 1s ease forwards;}
#finalMsg{font-size:2rem;color:#ff6b81;text-align:center;animation:pulse 1.5s infinite;}
</style>
</head>
<body>

<audio id="heartSound" src="https://www.soundjay.com/human/heartbeat-01.mp3"></audio>
<audio id="sparkleSound" src="https://www.soundjay.com/button/beep-07.mp3"></audio>
<audio id="bgMusic" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" loop></audio>

<!-- Page 1 -->
<div id="page1" class="page active">
  <h1>–•–∞–π—Ä–¥–∞–∞ Valentine‚Äôs Day –º—ç–Ω–¥ —Ö“Ø—Ä–≥—ç–µ üíñ</h1>
  <div class="big-heart" id="enterPage2" style="top:60%;">üíñ</div>
</div>

<!-- Page 2 -->
<div id="page2" class="page hidden"></div>

<!-- Page 3 -->
<div id="page3" class="page hidden">
  <h1>–ù–∞–¥—Ç–∞–π –±–æ–ª–∑–æ–æ–Ω–¥ —è–≤–∞—Ö —É—É? üíå</h1>
  <button class="option-btn" id="yesBtn" style="left:40%; top:50%;">–¢–∏–π–º</button>
  <button class="option-btn" id="noBtn" style="left:55%; top:50%;">“Æ–≥“Ø–π</button>
</div>

<!-- Page 4 -->
<div id="page4" class="page hidden">
  <div id="finalMsg"></div>
</div>

<script>
const page1=document.getElementById('page1');
const page2=document.getElementById('page2');
const page3=document.getElementById('page3');
const page4=document.getElementById('page4');
const finalMsg=document.getElementById('finalMsg');

const heartSound = document.getElementById('heartSound');
const sparkleSound = document.getElementById('sparkleSound');
const bgMusic = document.getElementById('bgMusic');

// Floating hearts background
function createHeart(x,y,size){
  const heart=document.createElement('div');
  heart.className='heart';
  heart.innerText='‚ù§Ô∏è';
  heart.style.left=x-size/2+'px';
  heart.style.top=y-size/2+'px';
  heart.style.fontSize=size+'px';
  document.body.appendChild(heart);
  let pos=0;
  const id=setInterval(()=>{
    pos+=Math.random()*2+1;
    heart.style.transform=`translateY(-${pos}px) rotate(${pos}deg) scale(${1-pos/300})`;
    heart.style.opacity=1-pos/250;
    if(pos>250){ clearInterval(id); heart.remove(); }
  },20);
}

function createSparkle(x,y,count=5){
  sparkleSound.currentTime = 0; sparkleSound.play();
  for(let i=0;i<count;i++){
    const s=document.createElement('div');
    s.className='sparkle';
    s.innerText='‚ú®';
    s.style.left=x+(Math.random()*40-20)+'px';
    s.style.top=y+(Math.random()*40-20)+'px';
    s.style.fontSize=(Math.random()*10+10)+'px';
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),800);
  }
}

setInterval(()=>{createHeart(Math.random()*window.innerWidth, window.innerHeight+20, Math.random()*40+30);},600);
document.body.addEventListener('mousemove', e=>{if(Math.random()<0.03){ createHeart(e.clientX,e.clientY,Math.random()*15+10);}});

// Page1 -> Page2
document.getElementById('enterPage2').addEventListener('click', ()=>{
  heartSound.currentTime = 0; heartSound.play();
  page1.classList.remove('active'); page1.classList.add('hidden');
  page2.classList.add('active'); page2.classList.remove('hidden');
  renderHeartsPage2();
});

// Page2 - 10 –∑“Ø—Ä—Ö
const loveMessages=[
  {emoji:'‚ù§Ô∏è', text:"I love you, my darling üíñ"},
  {emoji:'üíõ', text:"Je t'aime, mon amour üíï"},
  {emoji:'üíö', text:"Te amo, mi cielo üíö"},
  {emoji:'üíô', text:"Ich liebe dich, Schatz üíô"},
  {emoji:'üíú', text:"Ti amo, amore mio üíú"},
  {emoji:'üß°', text:"Seni seviyorum, a≈ükƒ±m üß°"},
  {emoji:'üíñ', text:"ÊÑõ„Åó„Å¶„Çã„ÄÅÊÑõ„Åó„ÅÑ‰∫∫ üíñ"},
  {emoji:'üíó', text:"ÏÇ¨ÎûëÌï¥, ÎÇ¥ ÏÇ¨Îûë üíó"},
  {emoji:'üíì', text:"–Ø —Ç–µ–±—è –ª—é–±–ª—é, –ª—é–±–∏–º–∞—è üíì"},
  {emoji:'üíû', text:"Ik hou van jou, lieverd üíû"}
];

let heartsClicked=0;
const maxHearts=loveMessages.length;

function renderHeartsPage2(){
  loveMessages.forEach(item=>{
    const heart=document.createElement('div');
    heart.className='small-heart';
    heart.innerText=item.emoji;
    heart.dataset.msg=item.text;
    heart.style.left=Math.random()*(page2.clientWidth-60)+'px';
    heart.style.top=Math.random()*(page2.clientHeight-200)+'px';
    heart.style.fontSize='55px';
    
    heart.addEventListener('click', ()=>{
      createSparkle(window.innerWidth/2, window.innerHeight/2,8);

      const text=document.createElement('div');
      text.className='romantic-text';
      text.innerText=heart.dataset.msg;
      text.style.left = heart.style.left;
      text.style.top = heart.style.top;
      page2.appendChild(text);

      // Heart explosion
      for(let i=0;i<5;i++){
        const explode = document.createElement('div');
        explode.className='heart';
        explode.innerText=heart.innerText;
        explode.style.left=heart.style.left;
        explode.style.top=heart.style.top;
        explode.style.fontSize=(Math.random()*30+20)+'px';
        document.body.appendChild(explode);
        let angle = Math.random()*Math.PI*2;
        let distance=0;
        const id=setInterval(()=>{
          distance+=Math.random()*2+0.5; // slow motion
          explode.style.left = parseFloat(heart.style.left)+Math.cos(angle)*distance + 'px';
          explode.style.top = parseFloat(heart.style.top)+Math.sin(angle)*distance + 'px';
          explode.style.opacity=1-distance/300;
          if(distance>300){clearInterval(id); explode.remove();}
        },40); // slower for cinematic vibe
      }

      heart.remove();
      heartsClicked++;

      if(heartsClicked === maxHearts){
        const finalHeart = document.createElement('div');
        finalHeart.className='big-heart';
        finalHeart.innerText='üíñ';
        finalHeart.style.left=(page2.clientWidth/2-50)+'px';
        finalHeart.style.top=(page2.clientHeight/2-50)+'px';
        finalHeart.addEventListener('click', ()=>{
          bgMusic.play();
          page2.classList.remove('active'); page2.classList.add('hidden');
          page3.classList.add('active'); page3.classList.remove('hidden');
          positionButtonCenter();
        });
        page2.appendChild(finalHeart);
      }
    });

    page2.appendChild(heart);
  });
}

// Page3
const yesBtn=document.getElementById('yesBtn');
const noBtn=document.getElementById('noBtn');
let clickCount=0;

function positionButtonCenter(){
  yesBtn.style.left='40%';
  yesBtn.style.top='50%';
  noBtn.style.left='55%';
  noBtn.style.top='50%';
}

function positionButtonRandom(btn){
  btn.style.left = Math.random()*(window.innerWidth-150) + 'px';
  btn.style.top = Math.random()*(window.innerHeight-100) + 'px';
}

function handleChoice(isYes, btn){
  clickCount++;
  positionButtonRandom(btn);

  if(clickCount >=5){
    const finalText = isYes?"–°–æ–ª–∏–æ—Ä —É–≥–∞–∞—Å–∞–∞ —è–≤–Ω–∞":"–°–æ–ª–∏–æ—Ä —É–≥–∞–∞—Å–∞–∞ —è–≤–Ω–∞";
    page3.classList.remove('active'); page3.classList.add('hidden');
    page4.classList.add('active'); page4.classList.remove('hidden');
    finalMsg.innerText = finalText;
    yesBtn.disabled=true; noBtn.disabled=true;
  }
}

yesBtn.addEventListener('click', ()=>handleChoice(true, yesBtn));
noBtn.addEventListener('click', ()=>handleChoice(false, noBtn));

// Page4: cinematic hearts + confetti + slow motion sparkles
function createMiniHeart(){
  const heart = document.createElement('div');
  heart.className = 'heart';
  const emojis = ['üíñ','üíõ','üíö','üíô','üíú','üß°','üíó','üíì','üíû'];
  heart.innerText = emojis[Math.floor(Math.random()*emojis.length)];
  heart.style.left = Math.random()*window.innerWidth + 'px';
  heart.style.top = -50 + 'px';
  heart.style.fontSize = (Math.random()*20+20)+'px';
  document.body.appendChild(heart);

  let posY = -50;
  const id = setInterval(()=>{
    posY += Math.random()*1.5+0.5; // slow motion
    heart.style.top = posY + 'px';
    heart.style.transform = `rotate(${posY*2}deg)`;
    if(posY > window.innerHeight+50){
      clearInterval(id);
      heart.remove();
    }
  },40); // cinematic slower interval
}

function createConfetti(){
  const confetti = document.createElement('div');
  confetti.className='confetti';
  confetti.style.position='absolute';
  confetti.style.width='10px';
  confetti.style.height='10px';
  confetti.style.background=`hsl(${Math.random()*360},80%,60%)`;
  confetti.style.left=Math.random()*window.innerWidth+'px';
  confetti.style.top='-10px';
  confetti.style.opacity=Math.random();
  confetti.style.borderRadius='50%';
  document.body.appendChild(confetti);

  let posY = -10;
  const id = setInterval(()=>{
    posY += Math.random()*2+0.5; // slow motion
    confetti.style.top = posY+'px';
    confetti.style.transform = `rotate(${posY*5}deg)`;
    if(posY>window.innerHeight+10){
      clearInterval(id);
      confetti.remove();
    }
  },40);
}

// cinematic slow motion sparkles around Page4
function createSlowSparkle(){
  const x = Math.random()*window.innerWidth;
  const y = Math.random()*window.innerHeight;
  createSparkle(x,y,3);
}

setInterval(()=>{
  if(page4.classList.contains('active')){
    createMiniHeart();
    createConfetti();
    if(Math.random()<0.3) createSlowSparkle();
  }
},150);

</script>

</body>
</html>
